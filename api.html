<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>konvrt API</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="units.js">
</script>
<script type="text/javascript" src="scripts.js">
</script>
<script type="text/javascript" src="convert/convertCurr.js">
</script>
<script type="text/javascript" src="convert/convertDensity.js">
</script>
<script type="text/javascript" src="convert/convertEnergy.js">
</script>
<script type="text/javascript" src="convert/convertLinSize.js">
</script>
<script type="text/javascript" src="convert/convertMass.js">
</script>
<script type="text/javascript" src="convert/convertPlanarSize.js">
</script>
<script type="text/javascript" src="convert/convertProg.js">
</script>
<script type="text/javascript" src="convert/convertTemp.js">
</script>
<script type="text/javascript" src="convert/convertTime.js">
</script>
<script type="text/javascript" src="convert/convertVolume.js">
</script>
<script>
var q;
var from;
var to;
function getQueryVariable(variable) {
    var query = window.location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
        }
    }
    console.log('Query variable %s not found', variable);
}
function runAPI() {
	q = getQueryVariable('q');
	from = getQueryVariable('from');
	to = getQueryVariable('to');
	populateExchangeRates(cRates);
	if (!q || !from || !to) {
		document.getElementById("result").innerHTML = "Missing variables! Ensure that you have variables 'q', 'from', and 'to'.";
	} else {
		document.getElementById("result").innerHTML = calcDirector(q, from, to);
	}
}
</script>
</head>

<body onload="runAPI()">

<div id="result">

</div>

</body>
</html>
